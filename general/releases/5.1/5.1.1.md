---
title: Moodle 5.1.1
tags:
  - Release notes
  - Moodle 5.1
sidebar_position: 1
moodleVersion: 5.1.1
description: The release notes for Moodle version 5.1.1.
---

import { ReleaseNoteIntro } from '@site/src/components/ReleaseInformation';

<ReleaseNoteIntro releaseName={frontMatter.moodleVersion} />

## General fixes and improvements
<!-- cspell:disable -->
- [MDL-86810](https://moodle.atlassian.net/browse/MDL-86810) - Cannot disable "Receive a grade" completion condition after enabling it
- [MDL-81604](https://moodle.atlassian.net/browse/MDL-81604) - Broken file serving under PHP 8.1+, Apache and PHP-FPM via mod_proxy_fcgi, when the filename is not only plain ASCII or w/ blank spaces
- [MDL-81514](https://moodle.atlassian.net/browse/MDL-81514) - Assign submissions cannot be filtered by hidden groups
- [MDL-78495](https://moodle.atlassian.net/browse/MDL-78495) - Badges (at course level) duplicated for every item restored from recycle bin
- [MDL-84898](https://moodle.atlassian.net/browse/MDL-84898) - Prohibit checks may be slow on large sites
- [MDL-85235](https://moodle.atlassian.net/browse/MDL-85235) - admin/tool/mobile/mobile.webmanifest.php sets cookies and has poor caching headers
- [MDL-87031](https://moodle.atlassian.net/browse/MDL-87031) - Clear button not working properly in Grades &gt; User report and Single view when using participant search
- [MDL-86523](https://moodle.atlassian.net/browse/MDL-86523) - Receiving invalidcategoryid error after importing random questions
- [MDL-81804](https://moodle.atlassian.net/browse/MDL-81804) - Moodle fail to connect to pgbouncer &gt; 1.20 and  pgbouncer < 1.23
- [MDL-86300](https://moodle.atlassian.net/browse/MDL-86300) - Copying (or restoring) a course with a question bank: The parent of the newly created default question category is still the top category of the original course
- [MDL-85975](https://moodle.atlassian.net/browse/MDL-85975) - Excluded fields not removed if they are null during plugin restore
- [MDL-82511](https://moodle.atlassian.net/browse/MDL-82511) - cache_cron_task causes a failover on redis/sentinel clusters
- [MDL-81263](https://moodle.atlassian.net/browse/MDL-81263) - Grunt should Respect local .stylelintignore, .eslintignore
- [MDL-80422](https://moodle.atlassian.net/browse/MDL-80422) - Honour user specific start page authenticating by OAuth2
- [MDL-75764](https://moodle.atlassian.net/browse/MDL-75764) - Bulk downloading assignment submission requires a student to have mod/assign:submit capability
- [MDL-86817](https://moodle.atlassian.net/browse/MDL-86817) - Ad-hoc task mod_qbank\task\transfer_question_categories fails with "Duplicate entry" error after upgrade to Moodle 5.0.2+
- [MDL-87072](https://moodle.atlassian.net/browse/MDL-87072) - Remove $CFG-&gt;wwwrootendsinpublic setting
- [MDL-86063](https://moodle.atlassian.net/browse/MDL-86063) - Course copy fails when a non-required custom field of type "number" has no value (empty input)
- [MDL-85874](https://moodle.atlassian.net/browse/MDL-85874) - Grade category toggle broken in Gradebook Setup, if Category Aggregation row is missing
- [MDL-87194](https://moodle.atlassian.net/browse/MDL-87194) - AirNotifier access key requests always fail for new sites
- [MDL-86332](https://moodle.atlassian.net/browse/MDL-86332) - Saving completion criteria removes COMPLETION_CRITERIA_TYPE_COURSE
- [MDL-86003](https://moodle.atlassian.net/browse/MDL-86003) - TinyMCE "Browse repositories" fails for multimedia (video/audio) when adding/editing a mod_data entry
- [MDL-87198](https://moodle.atlassian.net/browse/MDL-87198) - Activities overview page: Hidden section names are visible for stealth activities
- [MDL-87166](https://moodle.atlassian.net/browse/MDL-87166) - "Custom link" communication provider prevents user deletion
- [MDL-87017](https://moodle.atlassian.net/browse/MDL-87017) - Question bank context exception when home page block on all pages
- [MDL-87004](https://moodle.atlassian.net/browse/MDL-87004) - Backups only contain random question candidates from one category
- [MDL-86953](https://moodle.atlassian.net/browse/MDL-86953) - Mobile view - Long title in a block breaks the block editing (three dots) menu
- [MDL-86912](https://moodle.atlassian.net/browse/MDL-86912) - The "Submission status" column should be displayed to admins in the Activities overview when they are enrolled as students
- [MDL-86879](https://moodle.atlassian.net/browse/MDL-86879) - Course subsections has bad performance compared to normal sections
- [MDL-86848](https://moodle.atlassian.net/browse/MDL-86848) - /index.php should not redirect
- [MDL-86822](https://moodle.atlassian.net/browse/MDL-86822) - Error when enabling editing mode on H5P activity with course block set to "display on all pages"
- [MDL-86736](https://moodle.atlassian.net/browse/MDL-86736) - Course short names display incorrectly in Course Overview with List/Summary layout
- [MDL-86668](https://moodle.atlassian.net/browse/MDL-86668) - The scale explanatory popup does not filter the scale name
- [MDL-86648](https://moodle.atlassian.net/browse/MDL-86648) - Assignment override due date can be after extension date
- [MDL-86574](https://moodle.atlassian.net/browse/MDL-86574) - Exported cohort role tool privacy data doesn't format name/description correctly
- [MDL-86559](https://moodle.atlassian.net/browse/MDL-86559) - auto links for activities and resources does not work when double space is present  
- [MDL-86430](https://moodle.atlassian.net/browse/MDL-86430) - Bad display of scale grading when the title of scale too long in Forum
- [MDL-86382](https://moodle.atlassian.net/browse/MDL-86382) - qbank_bulkmove: invalidcoursemodule when clicking on limit hint
- [MDL-86323](https://moodle.atlassian.net/browse/MDL-86323) - TinyMCE removes harmless attributes from &lt;svg&gt; tag
- [MDL-86235](https://moodle.atlassian.net/browse/MDL-86235) - Several tables no longer highlight the row being hovered on
- [MDL-86161](https://moodle.atlassian.net/browse/MDL-86161) - When editing a group that has a multilang name (and a picture), the group name upon hovering the group picture is not passing the filter
- [MDL-86159](https://moodle.atlassian.net/browse/MDL-86159) - Inconsistent/poorly formatted courses when importing BigBlueButton recordings
- [MDL-86011](https://moodle.atlassian.net/browse/MDL-86011) - The Responded column shouldn't be displayed to admins in the Activities overview for Feedback
- [MDL-86010](https://moodle.atlassian.net/browse/MDL-86010) - Error when viewing a learning plan competency after deleting the associated activity
- [MDL-85988](https://moodle.atlassian.net/browse/MDL-85988) - Book chapter content overlaps the navigation buttons
- [MDL-85930](https://moodle.atlassian.net/browse/MDL-85930) - TinyMCE multimedia icon does not successfully add videos from Youtube repository search
- [MDL-85917](https://moodle.atlassian.net/browse/MDL-85917) - Course section titles don't always get refreshed
- [MDL-85887](https://moodle.atlassian.net/browse/MDL-85887) - Search input on tag/search.php is overflowing on small screen sizes
- [MDL-85835](https://moodle.atlassian.net/browse/MDL-85835) - TinyMCE's equation editor tabs not working in the quiz attempt
- [MDL-85592](https://moodle.atlassian.net/browse/MDL-85592) - Mobile Navigation: Multiple Sub-Menus expand/collapse simultaneously
- [MDL-85511](https://moodle.atlassian.net/browse/MDL-85511) - On the "Manage courses and categories" page, after performing a search, there's no clear way to return to the initial view without using the browser's back button
- [MDL-85474](https://moodle.atlassian.net/browse/MDL-85474) - Teachers may experience a "Call to undefined method" exception in Assignment
- [MDL-85418](https://moodle.atlassian.net/browse/MDL-85418) - Usermenu carousel navigation link trigger anchor linking and make the page scroll back to the top
- [MDL-85366](https://moodle.atlassian.net/browse/MDL-85366) - Outlook users receive .ics file instead of the proper invitation
- [MDL-85306](https://moodle.atlassian.net/browse/MDL-85306) - Toggle element doesn't display tooltips
- [MDL-85287](https://moodle.atlassian.net/browse/MDL-85287) - User tours highlight incorrectly while scrolling with backdrop
- [MDL-84745](https://moodle.atlassian.net/browse/MDL-84745) - Bulk delete cohort button is confusing
- [MDL-83543](https://moodle.atlassian.net/browse/MDL-83543) - Submit button remains disabled after Excel file download
- [MDL-77137](https://moodle.atlassian.net/browse/MDL-77137) - cURL multi method does not honour proxybypass option
<!-- cspell:enable -->

## Accessibility fixes and improvements
<!-- cspell:disable -->
- [MDL-85534](https://moodle.atlassian.net/browse/MDL-85534) - Skipped heading level on Forum discussion page
- [MDL-83485](https://moodle.atlassian.net/browse/MDL-83485) - Use lists instead of div tags in the preferences groups template
- [MDL-85858](https://moodle.atlassian.net/browse/MDL-85858) - SCORM Player missing page title and iframe title attributes
- [MDL-87245](https://moodle.atlassian.net/browse/MDL-87245) - SCORM packages that open in a new window should inform users that they open in a new window
- [MDL-87149](https://moodle.atlassian.net/browse/MDL-87149) - Insufficient contrast for feedback questions with Dependence item set
- [MDL-86998](https://moodle.atlassian.net/browse/MDL-86998) - Empty &lt;th&gt; table header and empty form label on "Notification preferences" screen presenting accessibility issues
- [MDL-86986](https://moodle.atlassian.net/browse/MDL-86986) - The core/drag_handle button relies on the title attribute for its accessible label
- [MDL-86855](https://moodle.atlassian.net/browse/MDL-86855) - Accessibility issues on the qbank_columnsortorder admin settings page
- [MDL-86840](https://moodle.atlassian.net/browse/MDL-86840) - Accessibility issues on the forum advanced search form
- [MDL-86806](https://moodle.atlassian.net/browse/MDL-86806) - Keyboard navigation in "Add activity or resource" modal is reversed in RTL languages
- [MDL-86701](https://moodle.atlassian.net/browse/MDL-86701) - Use native button elements for the buttons on the custom fields pages
- [MDL-86547](https://moodle.atlassian.net/browse/MDL-86547) - Consider accessibility improvements for &lt;code&gt; display
- [MDL-86450](https://moodle.atlassian.net/browse/MDL-86450) - Checkboxes in forum advanced search form not labelled correctly
- [MDL-86434](https://moodle.atlassian.net/browse/MDL-86434) - User profile page: Page title missing if user ID is invalid or current user permissions are insufficient
- [MDL-85820](https://moodle.atlassian.net/browse/MDL-85820) - Required form field validation issue: client-side adds unnecessary "-"
- [MDL-85796](https://moodle.atlassian.net/browse/MDL-85796) - Remove the unnecessary title attribute on user profile links (RGAA 6.1 criteria)
- [MDL-85774](https://moodle.atlassian.net/browse/MDL-85774) - Home page offline RGAA compliance issue
- [MDL-82232](https://moodle.atlassian.net/browse/MDL-82232) - Incorrect landmark accessible names for the breadcrumb
<!-- cspell:enable -->

## Performance fixes and improvements
<!-- cspell:disable -->
- [MDL-81304](https://moodle.atlassian.net/browse/MDL-81304) - Long load times on "my courses"
- [MDL-87019](https://moodle.atlassian.net/browse/MDL-87019) - Redis session handler memory grows unbounded due to no garbage collection of userkeyprefix hash for user=0
- [MDL-86749](https://moodle.atlassian.net/browse/MDL-86749) - Quiz performance adding questions from the question bank - needs index on question statistics
- [MDL-85764](https://moodle.atlassian.net/browse/MDL-85764) - Quiz queue_quiz_open_notification_tasks_for_users can be very slow
- [MDL-85729](https://moodle.atlassian.net/browse/MDL-85729) - Grades page can load thousands of pluginfiles
<!-- cspell:enable -->

## Security improvements
<!-- cspell:disable -->
- [MDL-86369](https://moodle.atlassian.net/browse/MDL-86369) - Deleting a single attempt from SCORM reports page deletes all user attempts when reloading the page
- [MDL-87066](https://moodle.atlassian.net/browse/MDL-87066) - Create clean_string() to simplify and improve Mustache rendering security
<!-- cspell:enable -->

## Security fixes
<!-- cspell:disable -->
- [MSA-25-0051](https://moodle.org/mod/forum/discuss.php?d=471297) - Remote code execution risk via file restore
- [MSA-25-0052](https://moodle.org/mod/forum/discuss.php?d=471298) - Authentication via LTI Provider available to suspended users
- [MSA-25-0053](https://moodle.org/mod/forum/discuss.php?d=471299) - XSS risk via AI prompt injection
- [MSA-25-0054](https://moodle.org/mod/forum/discuss.php?d=471300) - XSS risk in formula editor
- [MSA-25-0055](https://moodle.org/mod/forum/discuss.php?d=471301) - Formula injection risk when exporting data to CSV / Excel
- [MSA-25-0056](https://moodle.org/mod/forum/discuss.php?d=471302) - Open redirect in OAuth login
- [MSA-25-0057](https://moodle.org/mod/forum/discuss.php?d=471303) - Password brute force risk from confirmation email web service
- [MSA-25-0058](https://moodle.org/mod/forum/discuss.php?d=471304) - Participants can access forum ratings without permission
- [MSA-25-0059](https://moodle.org/mod/forum/discuss.php?d=471305) - Reflected XSS risk in policy tool
- [MSA-25-0060](https://moodle.org/mod/forum/discuss.php?d=471306) - Badges with a role criterion could be awarded to users who do not hold the role
- [MSA-25-0061](https://moodle.org/mod/forum/discuss.php?d=471307) - User IDs exposed in URLs when using anonymous submissions in assignment
<!-- cspell:enable -->
